<div class="color-picker">
  <div class="button" (click)="showPopupWindow()" [ngStyle]="getButtonStyle()" [title]="getLabel()">&nbsp;</div>
  <hr class="picked-color" (click)="showPopupWindow()" [ngStyle]="{backgroundColor:getSelectedValue()}" />
  <div class="toolbar-menu" style="padding: 4px;" [ngStyle]="getWindowStyle()" (mousedown)="onMouseDown($event)"
    (window:mousedown)="onGlobalMouseDown()">
    <div class="color-none-panel" (click)="runPopup(getColorNoneId())">
      <div class="color-none-icon" [ngStyle]="{ backgroundImage: getColorNoneIcon() }"></div>
      <div class="color-none-label">{{getColorNoneLabel()}}</div>
    </div>
    <div class="color-panel">
      <div class="color" *ngFor="let id of getColorIds()" (click)="runPopup(id)"
        [ngStyle]="{ backgroundColor: getColorValue(id) }"></div>
    </div>
    <div class="custom-color-panel">
      <div class="color" *ngFor="let id of getCustomColorIds()" (click)="runPopup(id)"
        [ngStyle]="{ backgroundColor: getColorValue(id) }"></div>
    </div>
    <div class="add-color-panel">
      <div class="add-color-combo">
        <input class="add-color-picker" #colorPicker [value]="getSelectedValue()" type="color"
          (input)="onSelectCustomColor()" />
        <div class='arrow-down'>â–¼</div>
      </div>
      <button class="add-btn"
        [ngStyle]="{backgroundColor: isColorPickerVisible?'var(--highlight-color)':'var(--context-menu-color)'}"
        (click)="addCustomColor()">+</button>
    </div>
  </div>
</div>